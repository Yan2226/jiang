# 酱 - 局域网多人聊天应用

这是一个基于Web的局域网多人聊天应用，支持文字消息、emoji表情和特殊指令功能。

## 功能特性

- **登录系统**：用户输入昵称并选择服务器地址进行登录
- **实时聊天**：基于WebSocket的实时消息传输
- **在线用户列表**：显示当前聊天室中的所有用户
- **特殊指令**：
  - `@电影 URL` - 播放电影
  - `@川小农 问题` - 与AI助手对话
- **响应式设计**：适配PC端和移动端
- **多服务器支持**：可通过配置文件添加多个服务器地址

## 技术栈

- **后端**：Python + Flask + Flask-SocketIO
- **前端**：HTML + JavaScript + Tailwind CSS
- **通信**：WebSocket

## 环境搭建

### 1. 创建虚拟环境

```bash
# 在项目根目录执行
python -m venv venv
```

### 2. 激活虚拟环境

**Windows:**
```bash
venv\Scripts\activate
```

**Linux/Mac:**
```bash
source venv/bin/activate
```

### 3. 安装依赖

```bash
pip install flask flask-socketio eventlet
```

## 启动步骤

1. **确保虚拟环境已激活**

2. **启动后端服务**

```bash
# 在项目根目录执行
python app.py
```

3. **访问应用**

   打开浏览器，访问 `http://localhost:5000`

## 配置说明

### 服务器配置

可以通过修改 `config.json` 文件来添加或修改服务器地址：

```json
{
    "servers": [
        {
            "name": "默认服务器",
            "url": "http://localhost:5000"
        },
        {
            "name": "备用服务器",
            "url": "http://192.168.1.100:5000"
        }
    ]
}
```

## 使用说明

### 登录
1. 选择要连接的服务器地址
2. 输入唯一的昵称
3. 点击"登录"按钮进入聊天室

### 聊天功能
- 在输入框中输入文字消息，按Enter键或点击发送按钮发送
- 可以使用emoji表情
- 使用特殊指令：
  - `@电影 https://example.com/movie.mp4` - 发送电影链接
  - `@川小农 你好` - 与AI助手对话

### 退出聊天室
- 点击右上角的"退出"按钮返回登录页面

## 注意事项

1. 确保所有用户都在同一个局域网内
2. 如果需要从其他设备访问，请确保防火墙允许5000端口的访问
3. 昵称必须唯一，不能与已登录用户重复
4. 电影播放功能依赖于浏览器对视频格式的支持

## 浏览器兼容性

支持以下主流浏览器：
- Chrome
- Edge
- 微信内置浏览器
- 手机自带浏览器

## 开发说明

项目结构：
- `app.py` - 后端主程序
- `config.json` - 配置文件
- `templates/` - HTML模板目录
  - `login.html` - 登录页面
  - `chat.html` - 聊天室页面
- `static/` - 静态资源目录
  - `css/` - CSS文件
  - `js/` - JavaScript文件

## 故障排除

- 如果无法连接服务器，请检查服务器地址是否正确，以及服务器是否正常运行
- 如果昵称被占用，请尝试使用其他昵称
- 如果WebSocket连接断开，页面会自动尝试重连